---
title: "PreProcessing"
author: "Bruno Carlin"
date: "29/06/2018"
output:
  html_document: default
  pdf_document: default
---

# Importing the libraries

```{r}
library(reticulate)
```

```{python pYTHON}
import pandas as py
import matplotlib as plt
import pandas as pd
``` 

```{python}
dataset = pd.read_csv('Data.csv')
X = dataset.iloc[:,:-1].values
y = dataset.iloc[:,3]
```


```{r, echo=FALSE, background= T}
X <- py$X
Y <- py$y
dataset = py$dataset
```

```{python}
from sklearn.preprocessing import Imputer
imputer = Imputer(missing_values = 'NaN',strategy = 'mean',axis = 0)
imputer = imputer.fit(X[:,1:3])
X[:,1:3] = imputer.transform(X[:,1:3])
print(X)
```



```{r}
dataset$Age <-
  ifelse(is.na(dataset$Age),
         ave(
           dataset$Age,
           FUN = function(x)
             mean(x, na.rm = T)
         ),
         dataset$Age)

NA2mean <- function(x)
  replace(x, is.na(x), mean(x, na.rm = TRUE))
dataset <- replace(dataset, TRUE, lapply(dataset, NA2mean))

```




